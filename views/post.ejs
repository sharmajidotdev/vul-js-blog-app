
<div class="card p-4 mb-4">
  <!-- XSS in title and content -->
  <h2><%- post.title %></h2>
  <div class="text-muted mb-2">by <%- post.author %></div>
  <p><%- post.content %></p>
</div>
<h4>Comments</h4>
<div class="mb-3">
  <% comments.forEach(c => { %>
    <div class="card p-2 mb-2">
      <strong><%- c.author %>:</strong>
      <!-- XSS in comment -->
      <span><%- c.comment %></span>
    </div>
  <% }) %>
</div>
<% if (user) { %>
  <form method="POST" action="/posts/<%- post.id %>/comment">
    <textarea class="form-control mb-2" name="comment" placeholder="Add a comment..." required></textarea>
    <button class="btn btn-primary">Comment</button>
  </form>
<% } else { %>
  <div class="alert alert-info">Login to comment.</div>
<% } %>